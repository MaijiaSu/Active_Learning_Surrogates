function y=TSWMFM(u,fun_par)
% Truss structure with multiple failure modes
% input m*n ，m为数据点数；n为x的维数
% fun_par =[] 无需求 
% output y为列向量



    [Ns,Ndim] = size(u);
    
    muX=[180*ones(1,7),89*ones(1,3)];
    sigmaX=[muX(1)*0.15*ones(1,7),89*0.15*ones(1,3)];
    
    X = zeros(Ns,Ndim);
    for n = 1:Ndim
        X(:,n) = u(:,n)*sigmaX(n) + muX(n);
    end 
    

      Area = [18.7,13.1,11.7,11.3,3.3,8.0,11.7]*100;      %unit:mm^2
      R = X(:,1:7)/1000 .*(ones(size(X,1),1)*Area);       %unit:kN 
      P = X(:,8:10);
%   C =    1*[ 0.9186,0.6124,0.3062;
%           0.3029  0.6058   0.3029;
%           0.5303   0.3535   0.1768;
%             1        0         0;
%         -0.4186   0.3876   0.1938;
%          0.1835   0.3670   0.1835;
%         0.5303   0.3536   0.1768;];
%      for i = 1:size(X,1)
%          
%          G(i,:) = R(i,:)' - C*P(i,:)';
        G(:,1)=R(:,1)-0.9186*P(:,1)-0.6124*P(:,2)-0.3062*P(:,3);
        G(:,2)=R(:,2)-0.3029*P(:,1)-0.6058*P(:,2)-0.3029*P(:,3);
        G(:,3)=R(:,3)-0.5303*P(:,1)-0.3535*P(:,2)-0.1768*P(:,3);
        G(:,4)=R(:,4)-P(:,1);
        G(:,5)=R(:,5)+0.4186*P(:,1)-0.3876*P(:,2)-0.1938*P(:,3);
        G(:,6)=R(:,6)-0.1835*P(:,1)-0.367*P(:,2)-0.1835*P(:,3);
        G(:,7)=R(:,7)-0.5303*P(:,1)-0.3536*P(:,2)-0.1768*P(:,3);
        y = min(G')';
        
%   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 
%  C= [ 0.9186,0.6124,0.3062;
%   0.3029  0.6058   0.3029;
%   0.5303   0.3535   0.1768;
%     1        0         0;
% -0.4186   0.3876   0.1938;
%  0.1835   0.3670   0.1835;
%   0.3062  0.6124   0.9186;
%  0.3029   0.6058   0.3029;
%  0.1768   0.3535   0.5303;
%     1        0         0;
%   0.1938   0.3876  -0.4186;
%   0.5303   0.3536   0.1768;
%   0.1768   0.3536   0.5303];
return